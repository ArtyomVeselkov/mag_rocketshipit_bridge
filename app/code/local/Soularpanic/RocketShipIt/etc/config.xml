<?xml version="1.0"?>

<config>
  <modules>
    <Soularpanic_RocketShipIt>
      <version>0.0.1</version>
    </Soularpanic_RocketShipIt>
  </modules>

  <global>
    <models>
      <!-- model group alias for the module -->
      <rocketshipit>
	<!-- base class name -->
	<class>Soularpanic_RocketShipIt_Model</class>
	<resourceModel>rocketshipit_resource</resourceModel>
      </rocketshipit>
      <rocketshipit_resource>
	<class>Soularpanic_RocketShipIt_Model_Resource</class>
	<entities>
	  <orderExtras>
	    <table>rocketshipit_order_details</table>
	  </orderExtras>
	</entities>
      </rocketshipit_resource>
    </models>

    <helpers>
      <rocketshipit>
	<class>Soularpanic_RocketShipIt_Helper</class>
      </rocketshipit>
    </helpers>
    
    <resources>
      <rocketshipit_setup>
	<setup>
	  <module>Soularpanic_RocketShipIt</module>
	  <class>Soularpanic_RocketShipIt_Model_Resource_Mysql4_Setup</class>
	</setup>
	<connection>
	  <use>core_setup</use>
	</connection>
      </rocketshipit_setup>
    </resources>

    <sales>
      <quote>
	<totals>
	  <rocketshipit>
	    <class>rocketshipit/sales_quote_address_total_addons</class>
	  </rocketshipit>
	</totals>
      </quote>
    </sales>

    <events>
      <core_block_abstract_prepare_layout_before>
	<observers>
	  <soularpanic_rocketshipit_addmassbutton>
	    <type>model</type>
	    <class>rocketshipit/observer</class>
	    <method>addMassButtons</method>
	  </soularpanic_rocketshipit_addmassbutton>
	</observers>
      </core_block_abstract_prepare_layout_before>
      <checkout_controller_onepage_save_shipping_method>
	<observers>
	  <soularpanic_rocketshipit_add_carrier_addons>
	    <type>singleton</type>
	    <class>rocketshipit/observer</class>
	    <method>addCarrierAddOns</method>
	  </soularpanic_rocketshipit_add_carrier_addons>
	</observers>
      </checkout_controller_onepage_save_shipping_method>
      <sales_quote_address_collect_totals_before>
	<observers>
	  <soularpanic_rocketshipit_address_totals_recalculate>
	    <type>singleton</type>
	    <class>rocketshipit/observer</class>
	    <method>salesQuoteAddressObserver</method>
	  </soularpanic_rocketshipit_address_totals_recalculate>
	</observers>
      </sales_quote_address_collect_totals_before>
      <sales_order_shipment_save_before>
	<observers>
	  <!--
	      Unique id for event's observers node. By convention, the name of the
	      module in lowercase, but since I expect that we'll have multiple 
	      observers with our module, I'm adding some sort of functional 
	      identifier thingy
	  -->
	  <soularpanic_rocketshipit_track_and_label>
	  <!-- <rocketshipit_foo> -->
	  <!-- <soularpaonic_rocketshipit_ship_before> -->
            <!--<namespace_modulename_ship_before>-->
            <type>singleton</type>
            <!-- <class>Namespace_Modulename_Model_Observer</class> -->
	    <!-- 
		 Model to be instantiated. I think the first part should be the alias
		 defined above and the second part is the file name.
	    -->
	    <class>rocketshipit/observer</class>
            <method>trackAndLabel</method>
	  </soularpanic_rocketshipit_track_and_label>
	</observers>
      </sales_order_shipment_save_before>
    </events>
  </global>

  <frontend>
    <routers>
      <rocketshipit>
	<use>standard</use>
	<args>
	  <module>Soularpanic_RocketShipIt</module>
	  <frontName>rocketshipit</frontName>
	</args>
      </rocketshipit>
      <checkout>
	<args>
	  <modules>
	    <rocketshipit before="Mage_Checkout">Soularpanic_RocketShipIt</rocketshipit>
	  </modules>
	</args>
      </checkout>
    </routers>
  </frontend>

  <default>
    <carriers>
      <rocketshipit_ups>
	<model>rocketshipit/carrier_ups</model>
      </rocketshipit_ups>
      <rocketshipit_usps>
      	<model>rocketshipit/carrier_usps</model>
      </rocketshipit_usps>
      <rocketshipit_stamps>
	<model>rocketshipit/carrier_stamps</model>
	<showmethod>1</showmethod>
      </rocketshipit_stamps>
    </carriers>
  </default>
</config>
